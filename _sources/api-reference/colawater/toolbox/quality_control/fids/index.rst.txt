:py:mod:`colawater.toolbox.quality_control.fids`
================================================

.. py:module:: colawater.toolbox.quality_control.fids

.. autoapi-nested-parse::

   Quality control checks relating to facility identifiers.

   .. rubric:: Examples

   .. code-block:: python

       res = find_incorrect_fids(layer, re.compile(r"^\d+example$"))
       do_something(res)

   .. code-block:: python

       res = find_duplicate_fids(layer)
       do_something(res)



Module Contents
---------------


Functions
~~~~~~~~~

.. autoapisummary::

   colawater.toolbox.quality_control.fids.find_faulty
   colawater.toolbox.quality_control.fids.find_duplicate



.. py:function:: find_faulty(layer: arcpy._mp.Layer, regex: re.Pattern[Any]) -> list[tuple[str, Optional[str]]]

   Returns all incorrectly formatted facility identifiers matching a regular expression.

   :param layer: The layer to check.
   :type layer: arcpy._mp.Layer
   :param regex: The regular expression to match against.
   :type regex: re.Pattern[Any]

   :returns: The list of object IDs and incorrectly formatted facility identifiers.
   :rtype: list[tuple[str, str]]

   :raises ExecuteError: An error ocurred in the tool execution.


.. py:function:: find_duplicate(layer: arcpy._mp.Layer) -> list[tuple[str, Ellipsis]]

   Returns all duplicate facility identifiers from the given layer.

   :param layer: The layer to check.
   :type layer: arcpy._mp.Layer

   :returns: The list of object IDs of duplicates, grouped by duplicate values at the zeroth index.
   :rtype: list[tuple[str, ...]]

   :raises ExecuteError: An error ocurred in the tool execution.

   .. note:: Writes result layer from ``Find Identical`` into scratch geodatabase.


